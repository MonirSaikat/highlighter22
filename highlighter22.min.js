!function($){$.fn.highlighter22=function(options){var settings=$.extend({color:"black",backgroundColor:"#FFFF00",padding:0,targets:[],filter:!1,animation:!1},options);let animateTypes={fade:{first:"fadeIn",second:"fadeOut"},bounce1:{first:"bounceIn",second:"bounceOut"},bounce2:{first:"bounceInDown",second:"bounceOutUp"}};function markStyle(){return`color: ${settings.color}; background-color: ${settings.backgroundColor}; padding: ${settings.padding}px;`}let pluginContainer=$("[data-highlighter-22]");function countOccurrences(t,n){if(!n)return 1;let i=RegExp(n,"gi"),e=t.match(i);return e?e.length:0}function sortObjectByValue(t,n=!1){return Object.entries(t).sort(function(t,i){return n?i[1]-t[1]:t[1]-i[1]})}let initValues=$("[data-filter]");return this.each(function(){var $input=$(this);$input.on("input",function(){var inputValue,lowerCaseValue=$input.val().toString().trim().toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(settings.filter){let cnt={};pluginContainer.find("[data-filter]").each(function(_index,item){var filterableContent=$(this).text().toString().toLowerCase().trim();void 0!==$(this).data("json")&&(filterableContent+=" ",filterableContent+=eval($(this).data("json")).map(t=>t.toLowerCase()).join(" ")),cnt[_index]=countOccurrences(filterableContent,lowerCaseValue);let display=$(this).css("display"),first=settings.animation?animateTypes[settings.animation].first:null,second=settings.animation?animateTypes[settings.animation].second:null;cnt[_index]?settings.animation?"none"==display?$(this).addClass(first).removeClass(second).show():$(this).removeClass(first):$(this).show():settings.animation?"block"!=display||$(this).hasClass(first)||($(this).addClass(second).removeClass(first),setTimeout(()=>{$(this).hide()},500)):$(this).hide()});let elements=[];pluginContainer.children().each(function(t){elements[t]=$(this)}),pluginContainer.empty();var sortedElements=sortObjectByValue(cnt,!0);0==lowerCaseValue.length?pluginContainer.html(initValues):sortedElements.map(function(t){pluginContainer.append(elements[Number(t[0])])})}let targets=pluginContainer.find("[data-key]");targets.length>0&&$.each(targets,function(t,n){$(n).each(function(t,n){var i=$(n).text().replace(RegExp(lowerCaseValue,"gi"),function(t){return`<mark style="${markStyle()}">${t}</mark>`});$(n).html(i)})})})})}}(jQuery);
